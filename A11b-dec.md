# 🌳 GINI Impurity בעצי החלטה

GINI Impurity מודד עד כמה קבוצה **מעורבבת** – כלומר כמה היא לא טהורה.
המטרה שלנו בעץ החלטה היא לבחור את השאלה שתיצור **קבוצות טהורות ככל האפשר**.

---

## ✨ למה בכלל צריך GINI?

כאשר בונים עץ החלטה, בכל שלב אנחנו צריכים לבחור תכונה שתפלח את הנתונים הכי טוב.
"הכי טוב" = תוצאה שבה כל קבוצה מכילה תוויות דומות כמה שיותר (טהורות).

GINI עוזר לנו למדוד את "רמת הבלבול" בכל קבוצה.

---

## 🧲 נוסחת GINI Impurity

אם בקבוצה יש `n` תוויות שונות:

```
GINI = 1 - ∑ (pᵒ)²
```

כאשר:
- `pᵒ` = ההסתברות של כל תווית (label) בקבוצה

GINI תמיד יהיה בין 0 ל-1:
- **0** = הקבוצה טהורה (רק תווית אחת)
- **1** = הכי לא טהורה (התפלגות שווה של תוויות)

---

## 📊 דוגמה פשוטה

| פרי   | צבע  |
|--------|-------|
| תפוח   | אדום |
| תפוח   | אדום |
| אגס    | ירוק |
| אגס    | ירוק |

### 🔹 חישוב GINI לפני החלוקה:

```
P(תפוח) = 2/4 = 0.5  
P(אגס) = 2/4 = 0.5

GINI = 1 - (0.5^2 + 0.5^2) = 1 - (0.25 + 0.25) = 0.5
```

GINI = **0.5** = מעורבב

---

## ✂️ מבצעים חלוקה לפי "צבע":

- קבוצה 1 (אדום): תפוח, תפוח  
  `GINI = 1 - (1^2) = 0`

- קבוצה 2 (ירוק): אגס, אגס  
  `GINI = 1 - (1^2) = 0`

> הקבוצות לאחר החלוקה טהורות לחלוטין → GINI כולל = 0 🎉

---

## 🌳 תרשים המחשה (Before & After)

### לפני חלוקה:

```
        פרי
     /       \
  תפוח      אגס
  תפוח      אגס
```

### אחרי חלוקה לפי צבע:

```
        צבע?
      /       \
   אדום       ירוק
  (תפוחים)    (אגסים)
```

---

## 📅 סיכום

- **GINI נמוך = קבוצה טהורה**  
- **GINI גבוה = קבוצה מעורבבת**
- **אנחנו תמיד נעדיף את הפיצול שמפחית הכי הרבה את GINI**

