# 📊 Final Project: FastAPI Server for Model Training and Prediction

## 🎯 Project Goal
Build a FastAPI server that allows:
- Uploading a CSV file with data
- Training machine learning models based on user input
- Performing predictions using the trained model
- Specifying which columns are features and which column is the label


## 🧱️ Architecture Overview
- Data is uploaded as a CSV file
- The user specifies which columns are features and which is the label
- The model is trained based on the uploaded file and the provided configuration
- The model is saved as a `.pkl` file along with its feature and label metadata


## 🔌 API Endpoints

### 📤 `POST /upload`
Receives a CSV file and stores it temporarily
#### Input: Multipart Form with a file named `file`
#### Output:
```json
{
  "columns_detected": ["age", "salary", "rooms", "price"]
}
```

### ⚙️ `POST /train`
Trains a model using the uploaded CSV and the selected features/label
#### Input:
```json
{
  "model_name": "linear",
  "features": ["age", "salary", "rooms"],
  "label": "price"
}
```
#### Output:
```json
{
  "status": "model trained",
  "features": ["age", "salary", "rooms"],
  "label": "price"
}
```

### 🎯 `POST /predict/{model_name}`
Receives feature values and returns a prediction from the trained model
#### Input:
```json
{
  "age": 35,
  "salary": 70000,
  "rooms": 3
}
```
#### Output:
```json
{
  "prediction": 322000
}
```

### 📊 `GET /models`
Returns a list of all trained models, including type, training date, features, and label


## 🧰 Technologies Used
- Python 3.10+
- FastAPI
- Pydantic
- Pandas
- Scikit-learn
- Joblib (for saving models)
- Optional: SQLite or SQLAlchemy for managing metadata and models


## ✅ Development Steps
1. Create data schemas (schemas.py)
2. Implement `POST /upload` to receive and store the CSV file
3. Implement `POST /train` – user defines features and label
4. Save the model as `.pkl` including the feature/label configuration
5. Implement `POST /predict/{model_name}` – use model to make predictions
6. Implement `GET /models` – show model status and metadata


## 💡 Optional Extensions
- Email + JWT authentication
- Support for multiple model types: random_forest, logistic, svr, xgboost
- Model evaluation (MAE, R2, etc.)
- Rate limiting per user/email
- Web UI for uploading data and running predictions


## ✨ Learning Objectives
- Build a dynamic ML training system on demand
- Flexibly manage feature and label configuration
- Perform predictions based on real user input
- Turn ML algorithms into real-world API services
